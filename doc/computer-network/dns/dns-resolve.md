# DNS 解析过程

- **根DNS服务器**：返回顶级域名 DNS 服务器的 IP 地址
- **顶级域DNS服务器**：返回权威域名 DNS 服务器的 IP 地址
- **权威DNS服务器**：返回相应主机的 IP 地址

以输入 `www.google.com` 为例，

1. 浏览器检查自身缓存，有无解析此域名对应的 ip
2. 操作系统缓存 hosts 文件中查询
3. 没有的话，请求本地域名服务器（LDNS）解析域名（一般在城市某处，距离不会太远）
4. 如果还没有的话，就去根 DNS 域服务器查询，此时会给出 .com 的顶级域名服务器
5. 然后去 .com 服务器查询，此时会给出这个域名 google.com 的地址，这是网站注册的域名服务器
6. 去 NameServer 查询，根据映射关系表找到目标 IP,返回给 LDNS（ LDNS 缓存域名及 IP）
7. LDNS 解析结果返回用户（缓存到系统缓存中），域名解析结束